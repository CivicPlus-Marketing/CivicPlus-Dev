export const run = async function () {
    if (this.isProduction) {
        const compilation = await this.compiler.compile(this).catch(error => {
            throw error;
        });
        compilation?.run((error) => {
            if (error)
                this.compiler.onError(error);
            compilation.close((error) => {
                if (error)
                    this.compiler.onError(error);
            });
        });
    }
    if (this.isDevelopment)
        await this.server.run().catch(error => {
            throw error;
        });
};
