export function dry(constructor) {
    return class extends constructor {
        constructor() {
            super();
            const fn = this.withContext?.bind(this) ?? (value => value);
            this.withContext = async (args) => {
                args = await fn(args);
                return { ...args, dry: true };
            };
        }
    };
}
